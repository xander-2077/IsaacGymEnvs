# used to create the object
name: MultiRoboMaster

physics_engine: 'physx'

# if given, will override the device setting in gym.
env: 
  numEnvs: ${resolve_default:4096,${...num_envs}}
  numRobots: 4
  numAgents: ''
  numObservations: ''
  numStates: ''
  numActions: ''
  controlFrequencyInv: 1 # 60 Hz
  # clipObservations: 5.0
  # clipActions: 1.0
  # renderFPS: 60

  episodeLength: 1500
  envSpacing: 4.5  # [m]

  plane:
    static_friction: 1.0
    dynamic_friction: 1.0
    restitution: 0

  field: 
    length: 4.5
    width: 3.0

  control:
    stiffness: 0.0
    damping: 500.0
    actionScale: 10.0

  reward:
    scoring: 1000
    conceding: -1000
    draw_penalty_scale: -10.0
    out_of_bounds: -100
    vel_to_ball: 1
    vel: 1
    dist_to_ball: 1
    dense_reward_scale: 1.0
    

task:
  randomize: False

sim:
  dt: 0.0167  # 60 Hz
  substeps: 1
  up_axis: "z"
  use_gpu_pipeline: ${eq:${...pipeline},"gpu"}
  gravity: [0.0, 0.0, -9.81]
  physx:
    num_threads: ${....num_threads}
    solver_type: ${....solver_type}
    use_gpu: ${contains:"cuda",${....sim_device}} # set to False to run on CPU
    num_position_iterations: 4
    num_velocity_iterations: 1
    contact_offset: 0.02
    rest_offset: 0.0
    bounce_threshold_velocity: 0.2
    max_depenetration_velocity: 100.0
    default_buffer_size_multiplier: 5.0
    max_gpu_contact_pairs: 8388608 # 8*1024*1024
    num_subscenes: ${....num_subscenes}
    contact_collection: 1 # 0: CC_NEVER (don't collect contact info), 1: CC_LAST_SUBSTEP (collect only contacts on last substep), 2: CC_ALL_SUBSTEPS (broken - do not use!)
